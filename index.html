<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <title>Catch the Box Game (Virtual Controls)</title>
      <style>
          body { background: #222; margin: 0; }
              canvas { display: block; margin: 40px auto 0 auto; background: #fff; border-radius: 8px; }
                  h2 { text-align: center; color: #fff; font-family: sans-serif; }
                      .controls {
                            display: flex;
                                  justify-content: center;
                                        margin: 20px 0 0 0;
                                              gap: 30px;
                                                  }
                                                      .btn {
                                                            width: 60px;
                                                                  height: 60px;
                                                                        background: #3498db;
                                                                              border: none;
                                                                                    border-radius: 50%;
                                                                                          color: #fff;
                                                                                                font-size: 2em;
                                                                                                      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
                                                                                                            user-select: none;
                                                                                                                  touch-action: manipulation;
                                                                                                                      }
                                                                                                                          .btn:active {
                                                                                                                                background: #217dbb;
                                                                                                                                    }
                                                                                                                                      </style>
                                                                                                                                      </head>
                                                                                                                                      <body>
                                                                                                                                        <h2>Catch the Box Game</h2>
                                                                                                                                          <canvas id="gameCanvas" width="400" height="500"></canvas>
                                                                                                                                            <div class="controls">
                                                                                                                                                <button class="btn" id="leftBtn">&#8592;</button>
                                                                                                                                                    <button class="btn" id="rightBtn">&#8594;</button>
                                                                                                                                                      </div>
                                                                                                                                                        <script>
                                                                                                                                                            const canvas = document.getElementById('gameCanvas');
                                                                                                                                                                const ctx = canvas.getContext('2d');

                                                                                                                                                                    // Paddle
                                                                                                                                                                        const paddle = { x: 160, y: 470, width: 80, height: 15, speed: 6, dx: 0 };

                                                                                                                                                                            // Box
                                                                                                                                                                                const box = { x: Math.random() * 360, y: 0, size: 40, speed: 3 };

                                                                                                                                                                                    let score = 0;

                                                                                                                                                                                        function drawPaddle() {
                                                                                                                                                                                              ctx.fillStyle = "#3498db";
                                                                                                                                                                                                    ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
                                                                                                                                                                                                        }

                                                                                                                                                                                                            function drawBox() {
                                                                                                                                                                                                                  ctx.fillStyle = "#e74c3c";
                                                                                                                                                                                                                        ctx.fillRect(box.x, box.y, box.size, box.size);
                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                function drawScore() {
                                                                                                                                                                                                                                      ctx.font = "20px Arial";
                                                                                                                                                                                                                                            ctx.fillStyle = "#222";
                                                                                                                                                                                                                                                  ctx.fillText("Score: " + score, 10, 30);
                                                                                                                                                                                                                                                      }

                                                                                                                                                                                                                                                          function movePaddle() {
                                                                                                                                                                                                                                                                paddle.x += paddle.dx;
                                                                                                                                                                                                                                                                      if (paddle.x < 0) paddle.x = 0;
                                                                                                                                                                                                                                                                            if (paddle.x + paddle.width > canvas.width) paddle.x = canvas.width - paddle.width;
                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                    function moveBox() {
                                                                                                                                                                                                                                                                                          box.y += box.speed;
                                                                                                                                                                                                                                                                                                // If box hits paddle
                                                                                                                                                                                                                                                                                                      if (
                                                                                                                                                                                                                                                                                                              box.y + box.size >= paddle.y &&
                                                                                                                                                                                                                                                                                                                      box.x + box.size > paddle.x &&
                                                                                                                                                                                                                                                                                                                              box.x < paddle.x + paddle.width
                                                                                                                                                                                                                                                                                                                                    ) {
                                                                                                                                                                                                                                                                                                                                            score++;
                                                                                                                                                                                                                                                                                                                                                    resetBox();
                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                // If box falls below paddle
                                                                                                                                                                                                                                                                                                                                                                      if (box.y > canvas.height) {
                                                                                                                                                                                                                                                                                                                                                                              score = 0;
                                                                                                                                                                                                                                                                                                                                                                                      resetBox();
                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                    function resetBox() {
                                                                                                                                                                                                                                                                                                                                                                                                          box.x = Math.random() * (canvas.width - box.size);
                                                                                                                                                                                                                                                                                                                                                                                                                box.y = 0;
                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                        function draw() {
                                                                                                                                                                                                                                                                                                                                                                                                                              ctx.clearRect(0, 0, canvas.width, canvas.height);
                                                                                                                                                                                                                                                                                                                                                                                                                                    drawPaddle();
                                                                                                                                                                                                                                                                                                                                                                                                                                          drawBox();
                                                                                                                                                                                                                                                                                                                                                                                                                                                drawScore();
                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                        function update() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                              movePaddle();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    moveBox();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          draw();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                requestAnimationFrame(update);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // Keyboard controls
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            document.addEventListener('keydown', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (e.key === "ArrowLeft") paddle.dx = -paddle.speed;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (e.key === "ArrowRight") paddle.dx = paddle.speed;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                document.addEventListener('keyup', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      if (e.key === "ArrowLeft" || e.key === "ArrowRight") paddle.dx = 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              // Virtual button controls
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  const leftBtn = document.getElementById('leftBtn');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      const rightBtn = document.getElementById('rightBtn');

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          leftBtn.addEventListener('touchstart', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                e.preventDefault();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      paddle.dx = -paddle.speed;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              leftBtn.addEventListener('touchend', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    e.preventDefault();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          paddle.dx = 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  rightBtn.addEventListener('touchstart', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        e.preventDefault();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              paddle.dx = paddle.speed;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      rightBtn.addEventListener('touchend', function(e) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            e.preventDefault();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  paddle.dx = 0;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // Also allow mouse for desktop
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              leftBtn.addEventListener('mousedown', function() { paddle.dx = -paddle.speed; });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  leftBtn.addEventListener('mouseup', function() { paddle.dx = 0; });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      leftBtn.addEventListener('mouseleave', function() { paddle.dx = 0; });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          rightBtn.addEventListener('mousedown', function() { paddle.dx = paddle.speed; });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              rightBtn.addEventListener('mouseup', function() { paddle.dx = 0; });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  rightBtn.addEventListener('mouseleave', function() { paddle.dx = 0; });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      update();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        